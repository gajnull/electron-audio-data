!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){"use strict";var r=n(1),o=n(12),a=n(14),i=n(13),l={on:r.a.on,off:r.a.off},s="add";r.a.on("loadedLngt",function(t){var e=t.startPoz;o.a.setStartPoz(e)}),l.setArea=function(t){a.a.setRoot(t)},l.setAreaTransl=function(t){i.a.setRoot(t)},l.setState=function(t){if(o.a.stop(),t!==s){var e=i.a.setState(t);if("transl"!==t||-1!==e){var n=a.a.setState(t,e);o.a.setPozz(n),s=t,r.a.publish("changeState",{state:s})}}},l.fnAdd=function(t,e){if("add"===s){var n=o.a[t](e);if("setUnit"===t&&n){a.a.setUnit(n)&&o.a.nextUnit()}o.a.advertPozz()}},l.fnDelete=function(t,e){if("delete"===s){if("repeate"===t&&o.a[t](e),"cleare"===t){var n=a.a.deleteUnit();n?o.a.assignInterval(n):l.setState("add")}o.a.advertPozz()}},l.fnTransl=function(t){if("transl"===s){var e=void 0;"offer"===t&&(e=a.a.getSelTransl());var n=i.a[t](e);-1!==n&&"setUnit"===t&&a.a.setSelectionTransl(n)}},l.addSelection=function(){"delete"!==s&&("add"===s&&a.a.addSelection(),"transl"===s&&i.a.addSelection())},l.reduceSelection=function(){"delete"!==s&&("add"===s&&a.a.reduceSelection(),"transl"===s&&i.a.reduceSelection())},l.setLoadedAudioFile=function(t){o.a.decodeFile(t)},l.setLoadedTranslFile=function(t){i.a.setLoadedFile(t)},l.setLoadedTxtFile=function(t){"delete"===s&&l.setState("add"),a.a.setLoadedFile(t)},l.save=function(){"add"===s&&a.a.save(),"transl"===s&&i.a.save(),"delete"===s&&l.popup("Перейдите в режим редактирования или перевода",2e3)},l.restore=function(){a.a.restore(),i.a.restore(),o.a.restore()},l.make=function(){"add"===s&&a.a.make(),"transl"===s&&i.a.make(),"delete"===s&&l.popup("Перейдите в режим редактирования или перевода",2e3)},l.popup=function(t,e){r.a.publish("popup",{msg:t,duration:e})},e.a=l},function(t,e,n){"use strict";var r={changeState:[],loadedLngt:[],savedLngt:[],decodedAudio:[],changedPoz:[],changeStateAudio:[],loadedTransl:[],savedTransl:[],popup:[]},o={on:function(t,e){t in r?r[t].push(e):console.log("ошибка в vent.on - события "+t+" нет")},off:function(t,e){t in r?r[t]=r[t].filter(function(t){return t!==e}):console.log("ошибка в vent.off - события "+t+" нет")},publish:function(t,e){t in r?r[t].forEach(function(t){t(e)}):console.log("ошибка в vent.publish - события "+t+" нет")}};o.dispatch=o.publish,e.a=o},function(t,e,n){"use strict";function r(){a.a.init(),i.a.init(),s.a.init(),l.a.init(),c.a.init(),d.a.init(),u.a.init(),f.a.init()}e.a=r;var o=n(19),a=(n.n(o),n(0),n(9)),i=n(8),l=n(6),s=n(16),c=n(5),u=n(4),f=n(10),d=n(7)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);n.i(r.a)()},function(t,e,n){"use strict";function r(){c.onclick=function(t){var e=t.target;if(e.hasAttribute("act")){e.blur();var n=e.getAttribute("act");l.a.fnAdd(n)}},u.onclick=function(t){var e=t.target;if(e.hasAttribute("act")){e.blur();var n=e.getAttribute("act");l.a.fnDelete(n)}}}function o(){f.onclick=function(t){var e=t.target;if(e.hasAttribute("act")){e.blur();var n=e.getAttribute("act");l.a.fnTransl(n)}}}function a(t){var e=t.playing;d.innerHTML=e?"Stop":"Play"}function i(t){var e=t.state;c.style.display="add"===e?"flex":"none",u.style.display="delete"===e?"flex":"none",f.style.display="transl"===e?"flex":"none"}var l=n(0),s={},c=void 0,u=void 0,f=void 0,d=void 0;s.init=function(){c=document.getElementById("btns"),u=document.getElementById("btns-intervals"),f=document.getElementById("btns-transl"),d=c.querySelector('button[act="tooglePlay"]'),l.a.on("changeState",i),l.a.on("decodedAudio",r),l.a.on("loadedTransl",o),l.a.on("changeStateAudio",a)},s.close=function(){l.a.off("decodedAudio",r),l.a.off("changeStateAudio",a),l.a.off("changeState",i),c.onclick="",c=null},e.a=s},function(t,e,n){"use strict";function r(){c.click()}function o(){function t(t){var e=t.target.result;i.a.setLoadedAudioFile({name:o,path:r,content:e})}function e(t){"NotReadableError"==t.target.error.name&&(s.innerHTML="Выберите другой звуковой файл")}if(0!==c.files.length){var n=c.files[0];c.value="";var r=n.path,o=n.name;s.innerHTML="loding...";var a=new FileReader;a.readAsArrayBuffer(n),a.onload=t,a.onerror=e}}function a(t){var e=t.name,n=t.path;s.innerHTML=e,s.setAttribute("title",n)}var i=n(0),l={},s=void 0,c=void 0;l.init=function(){s=document.getElementById("file-audio"),c=document.getElementById("input-audio"),s.addEventListener("click",r),c.addEventListener("change",o),i.a.on("decodedAudio",a)},l.close=function(){s.removeEventListener("click",r),c.removeEventListener("change",o),i.a.off("decodedAudio",a)},e.a=l},function(t,e,n){"use strict";function r(t){var e=t.target.getAttribute("state");e&&i.a.setState(e)}function o(t){var e=t.state;u.classList.remove("current"),u=c.querySelector("[state="+e+"]"),u.classList.add("current")}function a(t){var e=t.target.getAttribute("act");e&&i.a[e]()}var i=n(0),l={},s=void 0,c=void 0,u=void 0;l.init=function(){s=document.querySelector("#btns-files-state .btns-file"),c=document.getElementById("btns-state"),u=c.querySelector(".current"),s.addEventListener("click",a),c.addEventListener("click",r),i.a.on("changeState",o)},l.close=function(){s.removeEventListener("click",a),c.removeEventListener("click",r),i.a.off("changeState",o),btnSave=s=btnCurrent=null},e.a=l},function(t,e,n){"use strict";function r(){s.click()}function o(){function t(t){var e=t.target.result;i.a.setLoadedTranslFile({name:o,path:r,content:e})}function e(t){"NotReadableError"==t.target.error.name&&(l.innerHTML="Выберите другой текстовой файл")}if(0!==s.files.length){var n=s.files[0];s.value="";var r=n.path,o=n.name;l.innerHTML="loding...";var a=new FileReader;a.readAsText(n),a.onload=t,a.onerror=e}}function a(t){var e=t.path,n=t.name;l.innerHTML=n,l.setAttribute("title",e)}var i=n(0),l=void 0,s=void 0,c=function(){l=document.getElementById("file-transl"),s=document.getElementById("input-transl"),l.addEventListener("click",r),s.addEventListener("change",o),i.a.on("loadedTransl",a),i.a.on("savedTransl",a)},u=function(){l.removeEventListener("click",r),s.removeEventListener("change",o),i.a.off("loadedTransl",a),i.a.off("savedTransl",a)},f={init:c,close:u};e.a=f},function(t,e,n){"use strict";function r(){c.click()}function o(){function t(t){var e=t.target.result;i.a.setLoadedTxtFile({name:o,path:r,content:e})}function e(t){"NotReadableError"==t.target.error.name&&(s.innerHTML="Выберите другой текстовой файл")}if(0!==c.files.length){var n=c.files[0];c.value="";var r=n.path,o=n.name;s.innerHTML="loding...";var a=new FileReader;a.readAsText(n),a.onload=t,a.onerror=e}}function a(t){var e=t.path,n=t.name;s.innerHTML=n,s.setAttribute("title",e)}var i=n(0),l={},s=void 0,c=void 0;l.init=function(){s=document.getElementById("file-txt"),c=document.getElementById("input-txt"),s.addEventListener("click",r),c.addEventListener("change",o),i.a.on("loadedLngt",a),i.a.on("savedLngt",a)},l.close=function(){s.removeEventListener("click",r),c.removeEventListener("change",o),i.a.off("loadedLngt",a),i.a.off("savedLngt",a)},e.a=l},function(t,e,n){"use strict";function r(){i.a.fnAdd("tooglePlay"),i.a.fnDelete("repeate"),i.a.fnTransl("offer")}function o(){i.a.fnAdd("setUnit"),i.a.fnDelete("cleare"),i.a.fnTransl("setUnit")}function a(){i.a.fnAdd("repeate"),i.a.fnDelete("repeate")}var i=n(0),l=n(11),s={init:function(){n.i(l.a)("arrowLeft",function(){i.a.reduceSelection()}),n.i(l.a)("arrowRight",function(){i.a.addSelection()}),n.i(l.a)("space",r),n.i(l.a)("tab",o),n.i(l.a)("ctrlSpace",a)},close:function(){n.i(l.a)("clear")}};e.a=s},function(t,e,n){"use strict";function r(t){var e=t.pozCurrent,n=void 0===e?0:e,r=t.duration,o=void 0===r?0:r,a=t.pozMin,l=void 0===a?0:a,s=t.pozFrom,c=void 0===s?0:s,u=t.pozTo,f=void 0===u?0:u,d=(n-l).toFixed(1),p=(c-l).toFixed(1),v=(f-l).toFixed(1),g=(+n).toFixed(1),b=(+o).toFixed(1);i.innerHTML='\n    <div>\n      <span> Текущий отрезок (выбрано): </span>\n      <span info = "curr-region"> '+d+" ("+p+" - "+v+')</span>\n    </div>\n    <div class = "mid-border">\n      <span> Позиция в файле/Всего: </span>\n      <span info = "poz-file"> '+g+" / "+b+" </span>\n    </div>\n  "}var o=n(0),a={},i=void 0;a.init=function(){o.a.on("changedPoz",r),i=document.getElementById("info")},a.close=function(){o.a.off("changedPoz",r),i=null},e.a=a},function(t,e,n){"use strict";function r(t){var e=t.keyCode;if(e in l){t.preventDefault();var n=l[e];if(!n)return;t.ctrlKey&&(n="ctrl"+n[0].toUpperCase()+n.slice(1)),t.shiftKey&&(n="shift"+n[0].toUpperCase()+n.slice(1)),n in i&&i[n]()}}function o(t,e){if("clear"===t)return void a();t in i?i[t]=e:console.warn("Такой клавиши: "+t+"(сочетания клавиш) не предусмотрено")}function a(){for(var t in i)i[t]=function(){}}e.a=o;var i={arrowLeft:function(){},arrowRight:function(){},space:function(){},tab:function(){},shiftSpace:function(){},ctrlSpace:function(){},shiftTab:function(){},f2:function(){}},l={37:"arrowLeft",39:"arrowRight",32:"space",9:"tab",113:"f2"};document.onkeydown=r},function(t,e,n){"use strict";function r(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(f=c.getCurrentPoz()),{pozMin:u,pozCurrent:f,duration:d,pozFrom:p,pozTo:v}}function o(){if(v<p+.3&&f>p+.3&&(v=f),!(v>p+.3))return!0}var a=n(1),i=n(15),l=window.require("electron"),s=l.ipcRenderer,c=n.i(i.a)(),u=0,f=0,d=0,p=0,v=0,g=!1,b=null,h=null,m={name:null,path:null},x={decodeFile:function(t){var e=t.name,n=t.path,o=t.content;c.decode(o).then(function(t){d=t,m={name:e,path:n},a.a.publish("decodedAudio",{name:e,path:n}),a.a.publish("changedPoz",r()),localStorage.setItem("path-audio",n),localStorage.setItem("name-audio",e)})},tooglePlay:function(){g?this.stop():this.play()},play:function(){var t=this;g||(c.play(f),g=!0,a.a.publish("changeStateAudio",{playing:g}),b=setInterval(function(){a.a.publish("changedPoz",r(!0)),f>d&&t.tooglePlay()},100))},stop:function(){g&&(clearInterval(b),h&&clearTimeout(h),f=c.stop(),g=!1,a.a.publish("changeStateAudio",{playing:g}),f>d&&(f=d))},repeate:function(){var t=this;if(!g&&!o()){var e=1e3*(v-p);e<0||(f=p,this.play(),h=setTimeout(function(){t.stop()},e))}},reset:function(){p=f=v=u},setUnit:function(){if(!g&&!o())return{pozFrom:p,pozTo:v}},nextUnit:function(){u=p=f=v},setPozz:function(t){var e=t._from,n=t._to;u=f=p=+e,v=+n,a.a.publish("changedPoz",r())},assignInterval:function(t){var e=t._from,n=t._to;u=f=p=+e,v=+n},gotoStart:function(){g||(f=u)},gotoFrom:function(){g||(f=p)},gotoTo:function(){g||(f=v)},fromMoveBack:function(){var t=Math.round(10*(p-.1))/10;t<u&&(t=u),p=t},fromSet:function(){p=+f.toFixed(1),v<p&&(v=p)},fromMoveForward:function(){var t=Math.round(10*(p+.1))/10;t>d&&(t=d),(p=t)>v&&(v=p)},toMoveBack:function(){var t=Math.round(10*(v-.1))/10;t<u&&(t=u),(v=t)<p&&(p=v)},toSet:function(){g&&this.stop(),v=+f.toFixed(1),p>v&&(p=v)},toMoveForward:function(){if(!g){var t=Math.round(10*(v+.1))/10;t>d&&(t=d),v=t}},setStartPoz:function(t){u=f=p=v=+t,a.a.publish("changedPoz",r())},advertPozz:function(){a.a.publish("changedPoz",r())},restore:function(){var t=m.name||localStorage.getItem("name-audio"),e=m.path||localStorage.getItem("path-audio");t&&e&&s.send("will-restore-audio",{name:t,path:e})}};s.on("audio-restored",function(t,e){if(e.err)return console.log("error in restoring audio:"),void console.log(e.err);var n=e.content.buffer,r=e.name,o=e.path;x.decodeFile({name:r,path:o,content:n})}),e.a=x},function(t,e,n){"use strict";function r(t){f.innerHTML=t,p=f.querySelector("#selection-transl"),d=f.querySelector("#blank-transl")}function o(){var t=p.innerHTML;t&&(d.innerHTML=t+d.innerHTML,p.innerHTML="")}function a(){var t=f.querySelectorAll('span[transl="true"]');return t?t.length:0}function i(){localStorage.setItem("path-transl",u.path),localStorage.setItem("name-transl",u.name)}var l=n(1),s=window.require("electron"),c=s.ipcRenderer,u={},f=null,d=null,p=null,v=function(t){f=t},g=function(t){var e=t.name,n=t.path,o=t.content;u={name:e,path:n},r(function(t){if(!/\.txt$/.test(u.name))return t;u.name=u.name.replace(/(\.[a-zа-яё]{1,3})?\.txt$/,"._transl"),u.path=u.path.replace(/(\.[a-zа-яё]{1,3})?\.txt$/,"._transl");var e=t;return e=e.replace(/</g,"(").replace(/>/g,")"),e=e.replace(/\n/g,"<br>").replace(/\s*<br>\s*/g,"<br>&nbsp&nbsp").replace(/\s+/g," ").replace(/\s([.,:;!\)])/g,"$1"),e='<main-info lang="ru"></main-info>\n         <span id="selection-transl"></span>\n         <span id="blank-transl">&nbsp&nbsp'+e+"</span>"}(o)),l.a.publish("loadedTransl",u)},b=function(t){return p?(o(),a()):-1},h=function(){if(u.name){o();var t=f.innerHTML;t&&c.send("will-save-file",{path:u.path,content:t,kind:"_transl"})}},m=function(){if(h(),f){var t=f.querySelectorAll('span[transl="true"]');if(0!==t.length){var e=[];t.forEach(function(t){e.push(t.innerHTML.replace(/<br>/g,"\n").replace(/&nbsp;/g," "))});var n=JSON.stringify(e),r=u.path.replace(/\._transl$/,".transl");c.send("will-save-file",{path:r,content:n,kind:"transl"})}}};c.on("file-saved",function(t,e){if(e.err)return console.log("error in saving *._transl:"),void console.log(e.err);if("_transl"===e.kind&&(i(),l.a.publish("savedTransl",u)),"transl"===e.kind){var n=d.innerHTML.replace(/(\s|<br>|&nbsp;)/g,""),r="<p> Сформирован окончательный файл:<br>"+e.path+"</p>";""!==n&&(r=r+"<p> Остался неопределённый фрагмент: "+d.innerHTML.slice(0,100)+"...</p>"),l.a.publish("popup",{msg:r,duration:4e3})}});var x=function(){var t=localStorage.getItem("name-transl"),e=localStorage.getItem("path-transl");t&&e&&/\._transl$/.test(t)&&/\._transl$/.test(e)&&c.send("will-restore-file",{name:t,path:e,kind:"_transl"})};c.on("file-restored",function(t,e){if("_transl"===e.kind){if(e.err)return console.log("error in restoring *._transl:"),void console.log(e.err);var n=e.name,r=e.path,o=e.content;S.setLoadedFile({name:n,path:r,content:o})}});var L=function(){var t=d.innerHTML;if(t){var e=t.match(/^.+?(\s|<br>)/);e?(p.innerHTML=p.innerHTML+e[0],d.innerHTML=t.slice(e[0].length)):(p.innerHTML=p.innerHTML+t,d.innerHTML="")}},y=function(){var t=p.innerHTML;if(t){var e=t.match(/.+(\s|<br>)(.+(\s|<br>)?)$/);e?(d.innerHTML=e[2]+d.innerHTML,p.innerHTML=t.slice(0,-e[2].length)):(d.innerHTML=t+d.innerHTML,p.innerHTML="")}},T=function(){return p.innerHTML?(p.removeAttribute("id"),p.setAttribute("transl","true"),p=document.createElement("span"),p.id="selection-transl",d.before(p),a()):-1},M=function(t){var e=t.split(/[.,!?]|<br>/).length,n=0;o();do{L(),n=p.innerHTML.split(/[.,!?]|<br>/).length}while(n<e&&""!==d.innerHTML)},S={setRoot:v,setLoadedFile:g,setState:b,offer:M,addSelection:L,reduceSelection:y,setUnit:T,save:h,make:m,restore:x};e.a=S},function(t,e,n){"use strict";function r(t){h.innerHTML=t,x=h.querySelector("#selection-txt"),m=h.querySelector("#blank-txt")}function o(){var t=x.innerHTML;t&&(m.innerHTML=t+m.innerHTML,x.innerHTML="")}function a(){L&&L.removeAttribute("id"),L=null}function i(){y&&y.removeAttribute("id"),y=null}function l(){var t="0",e="0",n=x.previousElementSibling;return n&&n.hasAttribute("to")&&(t=e=n.getAttribute("to")),{_from:t,_to:e}}function s(){var t={_from:"0",_to:"0"};return x&&(L=x.previousElementSibling)&&L.hasAttribute("from")?(L.id="delete-txt",t._from=L.getAttribute("from"),t._to=L.getAttribute("to"),t):t}function c(t){var e=h.querySelectorAll("span[from]");return e&&e[t]&&(y=e[t],y.id="transl-txt"),{_from:"0",_to:"0"}}function u(){localStorage.setItem("path-lngt",b.path),localStorage.setItem("name-lngt",b.name)}function f(){var t=0,e=x.previousElementSibling;return e&&e.hasAttribute("to")&&(t=+e.getAttribute("to")),t}var d=n(1),p=window.require("electron"),v=p.ipcRenderer,g={},b={},h=null,m=null,x=null,L=null,y=null;g.setRoot=function(t){h=t},g.setLoadedFile=function(t){var e=t.name,n=t.path,o=t.content;b={name:e,path:n},r(function(t){if(!/\.txt$/.test(b.name))return t;b.name=b.name.replace(/\.txt$/,"._lngt"),b.path=b.path.replace(/\.txt$/,"._lngt");var e=t;return e=e.replace(/</g,"(").replace(/>/g,")"),e=e.replace(/\n/g,"<br>").replace(/\s*<br>\s*/g,"<br>&nbsp;&nbsp;").replace(/\s+/g," ").replace(/\s([.,:;!\)])/g,"$1"),e='<main-info></main-info>\n         <span id="selection-txt"></span>\n         <span id="blank-txt">&nbsp;&nbsp;'+e+"</span>"}(o)),d.a.publish("loadedLngt",{name:b.name,path:b.path,startPoz:f()})},g.setState=function(t,e){return b.name?(o(),a(),i(),"add"===t?l():"delete"===t?s():"transl"===t?c(e):void 0):{_from:"0",_to:"0"}},g.save=function(){if(b.name){o(),a(),i();var t=h.innerHTML;t&&v.send("will-save-file",{path:b.path,content:t,kind:"_lngt"})}},g.make=function(){if(g.save(),h){var t=h.querySelectorAll("span[from]");if(0!==t.length){var e=[];t.forEach(function(t){e.push({txt:t.innerHTML.replace(/<br>/g,"\n").replace(/&nbsp;/g," "),from:t.getAttribute("from"),to:t.getAttribute("to")})});var n=JSON.stringify(e),r=b.path.replace(/\._lngt$/,".lngt");v.send("will-save-file",{path:r,content:n,kind:"lngt"})}}},v.on("file-saved",function(t,e){if(e.err)return console.log("error in saving *._lngt:"),void console.log(e.err);if("_lngt"===e.kind&&(u(),d.a.publish("savedLngt",b)),"lngt"===e.kind){var n=m.innerHTML.replace(/(\s|<br>|&nbsp;)/g,""),r="<p> Сформирован окончательный файл:<br>"+e.path+"</p>";""!==n&&(r=r+"<p> Остался неопределённый фрагмент: "+m.innerHTML.slice(0,100)+"...</p>"),d.a.publish("popup",{msg:r,duration:4e3})}}),g.restore=function(){var t=localStorage.getItem("name-lngt"),e=localStorage.getItem("path-lngt");t&&e&&/\._lngt$/.test(t)&&/\._lngt$/.test(e)&&v.send("will-restore-file",{name:t,path:e,kind:"_lngt"})},v.on("file-restored",function(t,e){if("_lngt"===e.kind){if(e.err)return d.a.publish("popup","<p> ошибка при восстановлении <p>"),console.log("error in restoring *._lngt:"),void console.log(e.err);var n=e.name,r=e.path,o=e.content;g.setLoadedFile({name:n,path:r,content:o})}}),g.addSelection=function(){var t=m.innerHTML,e=x.innerHTML;if(t){var n=t.match(/^.+?(\s|<br>)/);n?(x.innerHTML=e+n[0],m.innerHTML=t.slice(n[0].length)):(x.innerHTML=e+t,m.innerHTML="")}},g.reduceSelection=function(){var t=m.innerHTML,e=x.innerHTML;if(e){var n=e.match(/.+(\s|<br>)(.+(\s|<br>)?)$/);n?(m.innerHTML=n[2]+t,x.innerHTML=e.slice(0,-n[2].length)):(m.innerHTML=e+t,x.innerHTML="")}},g.setSelectionTransl=function(t){b.name&&(i(),c(t))},g.setUnit=function(t){var e=t.pozFrom,n=t.pozTo,r=x.innerHTML;if(""!==r.trim()){x.innerHTML="";var o=document.createElement("span");return o.innerHTML=r,o.setAttribute("from",e),o.setAttribute("to",n),x.before(o),!0}},g.deleteUnit=function(){var t=void 0,e=void 0,n=L.previousElementSibling;L.removeAttribute("id");var r=L.innerHTML;return m.innerHTML=r+m.innerHTML,L.remove(),n&&n.hasAttribute("from")&&n.hasAttribute("to")&&(t=+n.getAttribute("from"),e=+n.getAttribute("to"),n.id="delete-txt",L=n),{_from:t,_to:e}},g.getSelTransl=function(){return y?y.innerHTML:null},e.a=g},function(t,e,n){"use strict";function r(){function t(){l=s=0,i=!1}var e=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext||window.msAudioContext;if(!e)return void console.log("Web Audio API недоступно");var n={},r=void 0,o=void 0,a=void 0,i=void 0,l=void 0,s=void 0;return n.decode=function(n){return new Promise(function(o,i){r=new e,r.decodeAudioData(n,function(e){a=e,t();var n=Math.round(10*a.duration)/10;o(n)},i)})},n.play=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;o=r.createBufferSource(),o.connect(r.destination),o.buffer=a,l=r.currentTime,s=t,o.start(0,s),i=!0},n.getCurrentPoz=function(){return Math.round(10*(r.currentTime-l+s))/10},n.stop=function(){return o.stop(),i=!1,n.getCurrentPoz()},n}e.a=r},function(t,e,n){"use strict";function r(t){var e=t.state;s.style.display="transl"===e?"block":"none"}function o(t){var e=t.msg,n=t.duration,r=n||2e3;c.innerHTML=e,c.style.display="block",setTimeout(function(){c.style.display="none",c.innerHTML=""},r)}function a(t){i.a.popup("Выделение управляется стрелками вправо и влево")}var i=n(0),l=void 0,s=void 0,c=void 0,u=function(){l=document.getElementById("txt"),s=document.getElementById("transl"),c=document.getElementById("popup"),i.a.setArea(l),i.a.setAreaTransl(s),i.a.on("changeState",r),i.a.on("popup",o),l.addEventListener("click",a)},f=function(){i.a.off("changeState",r),i.a.off("popup",o),l.removeEventListener("click",a),l=s=null},d={init:u,close:f};e.a=d},function(t,e,n){e=t.exports=n(18)(void 0),e.push([t.i,'a,abbr,address,article,aside,audio,big,blockquote,body,canvas,caption,cite,code,dd,del,details,div,dl,dt,em,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,iframe,img,label,legend,li,mark,menu,nav,ol,output,p,pre,section,small,span,strike,strong,summary,table,tbody,td,tfoot,th,thead,time,tr,tt,ul,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}#work,body,html{height:100%}#work{background-color:#e8f3f7;display:flex;flex-flow:column nowrap}#work .part{margin:0 5px 5px}#work #files{margin:5px 5px 5px 0}#area{flex:1 0 100px;background-color:#f4f8f7;display:flex}#info{background-color:#b6d0c9}#files{display:flex;flex-wrap:wrap}#files .file-field{flex:1 0 200px;margin:5px 0 0 5px;background-color:#c2dfea;border:.5px solid #8c95aa;border-radius:4px;padding:6px;cursor:pointer}#btns-files-state{display:flex}#btns-files-state .btns-file{flex:1 0 100px;align-content:stretch;display:flex}#btns-files-state .btns-file button{width:100px;margin-right:5px;cursor:pointer;color:#fdfaf2;border:.5px solid #86644f;border-radius:4px;padding:5px;background-color:#a47c64}#btns-files-state #btns-state{flex:1 0 100px;align-content:right;display:flex;max-width:400px}#btns-files-state #btns-state button{flex:1 0 25px;margin-left:5px;cursor:pointer;color:#fdfaf2;border:.5px solid #86644f;border-radius:4px;padding:5px;background-color:#255677}#btns-files-state #btns-state button.current{background-color:#6e94b6}#info{display:flex;border:.5px solid #8c95aa}#info div{flex:1 1 270px;padding:5px;overflow:auto}#info .mid-border,#info .td-border{border-left:.5px solid #8c95aa}#btns{display:flex}#btns-intervals,#btns-transl{display:none}#btns-intervals button,#btns-transl button,#btns button{background-color:#879c64;color:#e7ece0;border-radius:5px;margin:0 1px;padding:5px 0;cursor:pointer}#btns{justify-content:space-between}#btns .btns-group{display:flex}#btns .btns-control button{width:70px}#btns .btns-from-to button{width:47px}#btns .btns-from-to button.z{width:30px}#btns-intervals button,#btns-transl button{width:100px}#txt{padding:5px;overflow-y:scroll;color:#50a3c3}#txt #blank-txt{color:#000}#txt #selection-txt{background-color:#50a3c3;color:#f7fbfc}#txt #delete-txt,#txt #transl-txt{background-color:#6e557b;color:#f7fbfc}#transl{display:none;padding:5px;overflow-y:scroll;color:#50a3c3}#transl #selection-transl{background-color:#50a3c3;color:#f7fbfc}#transl #blank-transl{color:#000}#area .area{border:.5px solid #8c95aa;flex:1 0 100px}#popup{display:none;position:absolute;z-index:2;width:40%;top:30%;left:30%;padding:10px;border:2px solid #7b6353;border-radius:5px;background-color:#f9e3d3;color:#522709}',""])},function(t,e){function n(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var a=r(o);return[n].concat(o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"})).concat([a]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<t.length;o++){var i=t[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},function(t,e,n){var r=n(17);"string"==typeof r&&(r=[[t.i,r,""]]);var o={};o.transform=void 0;n(20)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=v[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(u(r.parts[a],e))}else{for(var i=[],a=0;a<r.parts.length;a++)i.push(u(r.parts[a],e));v[r.id]={id:r.id,refs:1,parts:i}}}}function o(t,e){for(var n=[],r={},o=0;o<t.length;o++){var a=t[o],i=e.base?a[0]+e.base:a[0],l=a[1],s=a[2],c=a[3],u={css:l,media:s,sourceMap:c};r[i]?r[i].parts.push(u):n.push(r[i]={id:i,parts:[u]})}return n}function a(t,e){var n=b(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=x[x.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),x.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function i(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=x.indexOf(t);e>=0&&x.splice(e,1)}function l(t){var e=document.createElement("style");return t.attrs.type="text/css",c(e,t.attrs),a(t,e),e}function s(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",c(e,t.attrs),a(t,e),e}function c(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function u(t,e){var n,r,o,a;if(e.transform&&t.css){if(!(a=e.transform(t.css)))return function(){};t.css=a}if(e.singleton){var c=m++;n=h||(h=l(e)),r=f.bind(null,n,c,!1),o=f.bind(null,n,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(e),r=p.bind(null,n,e),o=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(e),r=d.bind(null,n),o=function(){i(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function f(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var a=document.createTextNode(o),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}function d(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e,n){var r=n.css,o=n.sourceMap,a=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||a)&&(r=L(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),l=t.href;t.href=URL.createObjectURL(i),l&&URL.revokeObjectURL(l)}var v={},g=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),b=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),h=null,m=0,x=[],L=n(21);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=g()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=o(t,e);return r(n,e),function(t){for(var a=[],i=0;i<n.length;i++){var l=n[i],s=v[l.id];s.refs--,a.push(s)}if(t){r(o(t,e),e)}for(var i=0;i<a.length;i++){var s=a[i];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete v[s.id]}}}};var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o))return t;var a;return a=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}}]);